<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RepurposeAI - Turn one content into many</title>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Marked.js for Markdown Rendering -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    
    <!-- Tailwind Typography Plugin (via CDN) -->
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
    
    <script>
        // Prevent FOUC: Hide layout immediately
        document.documentElement.classList.add('app-loading');

        // Check onboarding status
        if (!localStorage.getItem('rep_onboarding_seen')) {
            document.documentElement.classList.add('onboarding-pending');
        }
    </script>
    <style>
        /* Initial Loading State & Onboarding State */
        .app-loading #layout-sidebar,
        .app-loading #app-main-layout,
        .onboarding-pending #layout-sidebar,
        .onboarding-pending #app-main-layout {
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s ease-out;
        }

        /* Show content when loaded (override) */
        html:not(.app-loading):not(.onboarding-pending) #layout-sidebar,
        html:not(.app-loading):not(.onboarding-pending) #app-main-layout {
            visibility: visible;
            opacity: 1;
        }

        /* Override visibility for the modal so it appears even if parent is hidden */
        .onboarding-pending #onboarding-modal {
            visibility: visible;
        }
    </style>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="manifest" href="manifest.json">
</head>
<body class="bg-gray-100 dark:bg-dark-bg text-gray-900 dark:text-gray-100 min-h-screen flex flex-col antialiased selection:bg-brand selection:text-white transition-colors duration-300">

    <!-- Mobile Overlay -->
    <!-- Layout Components Placeholders -->
    <div id="layout-sidebar"></div>

    <!-- Main Content Wrapper -->
    <div id="app-main-layout" class="md:ml-64 min-h-screen flex flex-col">
        <!-- Header Placeholder -->
        <div id="layout-header"></div>

        <!-- Main Content -->
        <main class="flex-grow w-full max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-12">
            


            <!-- Home View -->
            <div id="view-home" class="view-section hidden">
                <!-- Welcome Section -->
                <div class="mb-10 bg-gradient-to-br from-brand to-brand-dark p-8 md:p-12 rounded-[2.5rem] text-white shadow-xl shadow-brand/20 relative overflow-hidden">
                    <div class="relative z-10 max-w-2xl">
                        <h2 class="text-3xl md:text-4xl font-black mb-4 leading-tight">ê°€ì¥ ì™„ë²½í•œ ì½˜í…ì¸ <br>ì¬ê°€ê³µì˜ ì‹œì‘ ğŸš€</h2>
                        <p class="text-brand-light/90 text-lg md:text-xl font-medium mb-8 leading-relaxed">
                            ë¸”ë¡œê·¸, ë‰´ìŠ¤ë ˆí„°ë¥¼ í„°ì¹˜ ëª‡ ë²ˆìœ¼ë¡œ <br class="hidden sm:block">
                            SNS ìµœì í™” ì½˜í…ì¸ ë¡œ ë³€í™˜í•˜ì„¸ìš”.
                        </p>
                        <div class="flex flex-wrap gap-4">
                            <a href="#create" class="bg-white text-brand px-6 py-3.5 rounded-2xl font-bold flex items-center gap-2 hover:bg-gray-50 transition-all shadow-lg hover:translate-y-[-2px]">
                                <i data-lucide="plus-circle" class="w-5 h-5"></i>
                                ìƒˆë¡œìš´ ì½˜í…ì¸  ë§Œë“¤ê¸°
                            </a>
                        </div>
                    </div>
                    <!-- Decorative element -->
                    <div class="absolute -right-20 -bottom-20 w-80 h-80 bg-white/10 rounded-full blur-3xl"></div>
                    <div class="absolute right-10 top-10 opacity-20 transform rotate-12">
                        <i data-lucide="sparkles" class="w-32 h-32"></i>
                    </div>
                </div>

                <h3 class="text-xl font-bold mb-6 flex items-center gap-2">
                    <i data-lucide="bar-chart-2" class="w-5 h-5 text-brand"></i>
                    ì „ì²´ ì„±ê³¼ ë¦¬í¬íŠ¸
                </h3>

                <!-- Stats Overview -->
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                    <div class="bg-white dark:bg-dark-card p-5 rounded-2xl border border-gray-200 dark:border-dark-border shadow-sm">
                        <p class="text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-1">ì´ ìƒì„± ì½˜í…ì¸ </p>
                        <p class="text-2xl font-black text-gray-900 dark:text-white" id="stat-total-count">0</p>
                    </div>
                    <div class="bg-white dark:bg-dark-card p-5 rounded-2xl border border-gray-200 dark:border-dark-border shadow-sm">
                        <p class="text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-1">í‰ê·  ë°”ì´ëŸ´ ì ìˆ˜</p>
                        <p class="text-2xl font-black text-brand" id="stat-avg-score">0</p>
                    </div>
                    <div class="bg-white dark:bg-dark-card p-5 rounded-2xl border border-gray-200 dark:border-dark-border shadow-sm">
                        <p class="text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-1">ì¸ê¸° í”Œë«í¼</p>
                        <p class="text-2xl font-black text-gray-900 dark:text-white" id="stat-top-platform">-</p>
                    </div>
                    <div class="bg-white dark:bg-dark-card p-5 rounded-2xl border border-gray-200 dark:border-dark-border shadow-sm">
                        <p class="text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-1">ì´ë²ˆ ì£¼ ìƒì„±</p>
                        <p class="text-2xl font-black text-gray-900 dark:text-white" id="stat-week-count">0</p>
                    </div>
                </div>
            </div>

            <!-- Dashboard View (History) -->
            <div id="view-dashboard" class="view-section hidden">
                <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4">
                    <div>
                        <h2 class="text-3xl font-black text-gray-900 dark:text-white flex items-center gap-3">
                            <i data-lucide="history" class="w-8 h-8 text-brand"></i>
                            ìƒì„± ê¸°ë¡
                        </h2>
                        <p class="text-gray-500 dark:text-gray-400 mt-2 pl-1 font-medium">ì§€ê¸ˆê¹Œì§€ ë§Œë“  ì½˜í…ì¸ ì˜ íˆìŠ¤í† ë¦¬ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
                    </div>
                </div>

                <!-- Recent Activity Section -->
                <div class="space-y-6">
                    <!-- History List Container -->
                    <div id="history-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
                    
                    <!-- Empty State -->
                    <div id="history-empty-state" class="hidden flex flex-col items-center justify-center bg-white dark:bg-dark-card rounded-2xl border border-dashed border-gray-300 dark:border-dark-border p-12 text-center text-gray-500 dark:text-gray-400 col-span-full">
                        <div class="w-16 h-16 bg-gray-50 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4">
                            <i data-lucide="history" class="w-8 h-8 opacity-50"></i>
                        </div>
                        <p class="text-lg font-medium text-gray-900 dark:text-gray-200">ìƒì„±ëœ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤</p>
                        <p class="text-sm mt-1 mb-6">ì²« ë²ˆì§¸ ì½˜í…ì¸ ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”!</p>
                        <a href="#create" class="bg-brand hover:bg-brand-dark text-white font-bold px-6 py-3 rounded-xl transition-all shadow-lg shadow-brand/20 flex items-center gap-2">
                            <i data-lucide="plus" class="w-4 h-4"></i>
                            ì½˜í…ì¸  ìƒì„±í•˜ê¸°
                        </a>
                    </div>
                </div>
            </div>

            <!-- Create View (Generator) -->
            <div id="view-create" class="view-section">
                <div class="max-w-6xl mx-auto">
                    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 h-full">
                        
                        <!-- Left Column: Input Canvas (7 cols) -->
                        <div class="lg:col-span-7 space-y-6">
                            <div class="flex items-center justify-between">
                                <h2 class="text-xl font-bold flex items-center gap-3 text-gray-900 dark:text-white">
                                    <span class="step-badge w-8 h-8 rounded-xl flex items-center justify-center text-sm font-black text-brand shrink-0">1</span>
                                    ì›ë³¸ ì½˜í…ì¸  ì…ìˆ˜
                                </h2>
                                <button onclick="document.getElementById('input-text').value = ''" class="text-xs font-medium text-gray-400 hover:text-red-500 transition-colors flex items-center gap-1">
                                    <i data-lucide="trash-2" class="w-3 h-3"></i> ì´ˆê¸°í™”
                                </button>
                            </div>

                        <div class="relative group">
                            <textarea 
                                id="input-text"
                                class="creation-canvas w-full h-[400px] lg:h-[600px] p-6 rounded-2xl bg-white dark:bg-dark-card/30 text-gray-900 dark:text-gray-100 focus:outline-none transition-all resize-none text-lg leading-relaxed placeholder-gray-300 dark:placeholder-gray-700 appearance-none border border-transparent focus:border-brand/30"
                                placeholder="ë¸”ë¡œê·¸ ê¸€, ë‰´ìŠ¤ë ˆí„°, íŒŸìºìŠ¤íŠ¸ ëŒ€ë³¸ ë“±ì„ ì—¬ê¸°ì— ë§ˆìŒê» ë¶™ì—¬ë„£ìœ¼ì„¸ìš”..."
                            ></textarea>
                            
                            <!-- Canvas Decoration -->
                            <div class="absolute top-4 right-4 flex gap-2 opacity-0 group-focus-within:opacity-100 transition-opacity pointer-events-none">
                                <div class="px-2 py-1 rounded bg-brand/10 text-brand text-[10px] font-bold tracking-widest uppercase">AI Canvas Ready</div>
                            </div>
                        </div>
                        <div id="character-count" class="hidden"></div>
                    </div> <!-- End Left Column -->

                    <!-- Right Column: Settings & Actions (5 cols) -->
                    <div class="lg:col-span-5 space-y-6">
                        <div class="flex items-center gap-3">
                            <h2 class="text-xl font-bold flex items-center gap-3 text-gray-900 dark:text-white">
                                <span class="step-badge w-8 h-8 rounded-xl flex items-center justify-center text-sm font-black text-brand shrink-0">2</span>
                                ì½˜í…ì¸  ì»¤ìŠ¤í„°ë§ˆì´ì§•
                            </h2>
                        </div>
                        
                        <div class="bg-white dark:bg-dark-card/50 rounded-3xl p-6 border border-gray-100 dark:border-white/5 space-y-8">
                            <!-- Platform Sections -->
                            <!-- Section: Text Platforms -->
                            <div class="space-y-4">
                                <div class="flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-widest pl-1">
                                    <i data-lucide="type" class="w-3 h-3"></i> Text Content
                                </div>
                                <div class="grid grid-cols-2 gap-3">
                                    <label class="platform-card cursor-pointer group">
                                        <input type="radio" name="platform" value="twitter" class="absolute opacity-0" checked>
                                        <div class="p-4 rounded-2xl border-2 border-gray-100 dark:border-white/5 bg-gray-50/50 dark:bg-white/5 transition-all group-hover:border-brand/30">
                                            <div class="flex flex-col items-center gap-2 text-center">
                                                <div class="w-10 h-10 rounded-xl bg-sky-500/10 text-sky-500 flex items-center justify-center">
                                                    <i data-lucide="twitter" class="w-5 h-5"></i>
                                                </div>
                                                <span class="text-xs font-bold text-gray-700 dark:text-gray-300">X (Twitter)</span>
                                            </div>
                                        </div>
                                    </label>

                                    <label class="platform-card cursor-pointer group">
                                        <input type="radio" name="platform" value="linkedin" class="absolute opacity-0">
                                        <div class="p-4 rounded-2xl border-2 border-gray-100 dark:border-white/5 bg-gray-50/50 dark:bg-white/5 transition-all group-hover:border-brand/30">
                                            <div class="flex flex-col items-center gap-2 text-center">
                                                <div class="w-10 h-10 rounded-xl bg-blue-600/10 text-blue-600 flex items-center justify-center">
                                                    <i data-lucide="linkedin" class="w-5 h-5"></i>
                                                </div>
                                                <span class="text-xs font-bold text-gray-700 dark:text-gray-300">LinkedIn</span>
                                            </div>
                                        </div>
                                    </label>

                                    <label class="platform-card cursor-pointer group">
                                        <input type="radio" name="platform" value="naver_blog" class="absolute opacity-0">
                                        <div class="p-4 rounded-2xl border-2 border-gray-100 dark:border-white/5 bg-gray-50/50 dark:bg-white/5 transition-all group-hover:border-brand/30">
                                            <div class="flex flex-col items-center gap-2 text-center">
                                                <div class="w-10 h-10 rounded-xl bg-emerald-500/10 text-emerald-500 flex items-center justify-center">
                                                    <i data-lucide="layout" class="w-5 h-5"></i>
                                                </div>
                                                <span class="text-xs font-bold text-gray-700 dark:text-gray-300">Naver Blog</span>
                                            </div>
                                        </div>
                                    </label>

                                    <label class="platform-card cursor-pointer group">
                                        <input type="radio" name="platform" value="instagram_feed" class="absolute opacity-0">
                                        <div class="p-4 rounded-2xl border-2 border-gray-100 dark:border-white/5 bg-gray-50/50 dark:bg-white/5 transition-all group-hover:border-brand/30">
                                            <div class="flex flex-col items-center gap-2 text-center">
                                                <div class="w-10 h-10 rounded-xl bg-pink-500/10 text-pink-500 flex items-center justify-center">
                                                    <i data-lucide="instagram" class="w-5 h-5"></i>
                                                </div>
                                                <span class="text-xs font-bold text-gray-700 dark:text-gray-300">Instagram</span>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <!-- Section: Video Platforms -->
                            <div class="space-y-4 pt-6 border-t border-gray-100 dark:border-white/5">
                                <div class="flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-widest pl-1">
                                    <i data-lucide="video" class="w-3 h-3"></i> Video Content
                                </div>
                                <div class="grid grid-cols-2 gap-3">
                                    <label class="platform-card cursor-pointer group">
                                        <input type="radio" name="platform" value="youtube_shorts" class="absolute opacity-0">
                                        <div class="p-4 rounded-2xl border-2 border-gray-100 dark:border-white/5 bg-gray-50/50 dark:bg-white/5 transition-all group-hover:border-brand/30">
                                            <div class="flex flex-col items-center gap-2 text-center">
                                                <div class="w-10 h-10 rounded-xl bg-red-600/10 text-red-600 flex items-center justify-center">
                                                    <i data-lucide="play" class="w-5 h-5"></i>
                                                </div>
                                                <span class="text-xs font-bold text-gray-700 dark:text-gray-300">YouTube Shorts</span>
                                            </div>
                                        </div>
                                    </label>

                                    <label class="platform-card cursor-pointer group">
                                        <input type="radio" name="platform" value="instagram_reels" class="absolute opacity-0">
                                        <div class="p-4 rounded-2xl border-2 border-gray-100 dark:border-white/5 bg-gray-50/50 dark:bg-white/5 transition-all group-hover:border-brand/30">
                                            <div class="flex flex-col items-center gap-2 text-center">
                                                <div class="w-10 h-10 rounded-xl bg-pink-600/10 text-pink-600 flex items-center justify-center">
                                                    <i data-lucide="instagram" class="w-5 h-5"></i>
                                                </div>
                                                <span class="text-xs font-bold text-gray-700 dark:text-gray-300">Instagram Reels</span>
                                            </div>
                                        </div>
                                    </label>

                                    <label class="platform-card cursor-pointer group">
                                        <input type="radio" name="platform" value="tiktok" class="absolute opacity-0">
                                        <div class="p-4 rounded-2xl border-2 border-gray-100 dark:border-white/5 bg-gray-50/50 dark:bg-white/5 transition-all group-hover:border-brand/30">
                                            <div class="flex flex-col items-center gap-2 text-center">
                                                <div class="w-10 h-10 rounded-xl bg-gray-900/10 dark:bg-white/10 text-gray-900 dark:text-white flex items-center justify-center">
                                                    <i data-lucide="music" class="w-5 h-5"></i>
                                                </div>
                                                <span class="text-xs font-bold text-gray-700 dark:text-gray-300">TikTok Scripts</span>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                            </div>
                            <!-- Section: Customization -->
                            <div class="space-y-6 pt-6 border-t border-gray-100 dark:border-white/5">
                                <div class="flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-widest pl-1">
                                    <i data-lucide="sliders-horizontal" class="w-3 h-3"></i> Customization
                                </div>
                                
                                <div class="space-y-4">
                                    <!-- Tone/Style Selector -->
                                    <div class="space-y-2">
                                        <label class="text-sm font-medium text-gray-700 dark:text-gray-300">Tone & Style</label>
                                        <select id="tone-select" class="w-full h-12 rounded-xl bg-gray-50 border border-gray-200 dark:bg-white/5 dark:border-white/10 px-4 text-gray-700 dark:text-gray-200 focus:ring-2 focus:ring-brand/50 outline-none transition-all">
                                            <option value="professional">Professional & Authoritative</option>
                                            <option value="friendly">Friendly & Casual</option>
                                            <option value="witty">Witty & Humorous</option>
                                            <option value="emotional">Emotional & Story-driven</option>
                                        </select>
                                    </div>

                                    <!-- Language Selector -->
                                    <div class="space-y-2">
                                        <label class="text-sm font-medium text-gray-700 dark:text-gray-300">Language</label>
                                        <select id="language-select" class="w-full h-12 rounded-xl bg-gray-50 border border-gray-200 dark:bg-white/5 dark:border-white/10 px-4 text-gray-700 dark:text-gray-200 focus:ring-2 focus:ring-brand/50 outline-none transition-all">
                                            <option value="Korean" selected>ğŸ‡°ğŸ‡· Korean (í•œêµ­ì–´)</option>
                                            <option value="English">ğŸ‡ºğŸ‡¸ English</option>
                                            <option value="Japanese">ğŸ‡¯ğŸ‡µ Japanese</option>
                                            <option value="Chinese">ğŸ‡¨ğŸ‡³ Chinese</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Action Area -->
                            <div class="pt-6">
                                <button id="generate-btn" class="magical-button w-full h-16 rounded-2xl text-white font-black text-lg shadow-2xl shadow-brand/20 flex items-center justify-center gap-3 disabled:opacity-50 disabled:grayscale transition-all overflow-hidden group">
                                    <i data-lucide="sparkles" class="w-6 h-6 group-hover:rotate-12 transition-transform"></i>
                                    <span>MAGICAL GENERATE</span>
                                    <div class="absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"></div>
                                </button>
                                <p class="text-center text-xs text-gray-400 mt-3">
                                    Powered by Advanced AI Models â€¢ 1 Credit per generation
                                </p>
                            </div>



                            <!-- (Cleaned up old button) -->
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>




            <!-- Brands View -->
            <div id="view-brands" class="view-section hidden">
                <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4">
                    <div>
                        <h2 class="text-3xl font-black text-gray-900 dark:text-white flex items-center gap-3">
                            <i data-lucide="briefcase" class="w-8 h-8 text-brand"></i>
                            ë¸Œëœë“œ í”„ë¡œí•„
                        </h2>
                        <p class="text-gray-500 dark:text-gray-400 mt-2 pl-1 font-medium">ë‚˜ë§Œì˜ ë¸Œëœë“œ ë³´ì´ìŠ¤ì™€ ìŠ¤íƒ€ì¼ì„ ê´€ë¦¬í•˜ì„¸ìš”.</p>
                    </div>
                    <button id="create-brand-btn" class="group relative px-6 py-3 rounded-2xl bg-white dark:bg-dark-card border-2 border-brand/20 hover:border-brand text-brand font-bold shadow-lg shadow-brand/10 hover:shadow-brand/20 transition-all flex items-center gap-2 overflow-hidden">
                        <div class="absolute inset-0 bg-brand/5 group-hover:bg-brand/10 transition-colors"></div>
                        <i data-lucide="plus" class="w-5 h-5 relative z-10 group-hover:scale-110 transition-transform"></i>
                        <span class="relative z-10">ìƒˆ ë¸Œëœë“œ ì¶”ê°€</span>
                    </button>
                </div>

                <!-- Brand List -->
                <div id="brands-container" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>

                <!-- Brand Empty State -->
                <div id="brands-empty-state" class="hidden flex flex-col items-center justify-center bg-white dark:bg-dark-card rounded-2xl border border-dashed border-gray-300 dark:border-dark-border p-12 text-center text-gray-500 dark:text-gray-400 col-span-full">
                     <div class="w-16 h-16 bg-gray-50 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4">
                        <i data-lucide="briefcase" class="w-8 h-8 opacity-50"></i>
                    </div>
                    <p class="text-lg font-medium text-gray-900 dark:text-gray-200">ë“±ë¡ëœ ë¸Œëœë“œê°€ ì—†ìŠµë‹ˆë‹¤</p>
                    <p class="text-sm mt-1">ìì£¼ ì‚¬ìš©í•˜ëŠ” ë¸Œëœë“œ ìŠ¤íƒ€ì¼ì„ ì €ì¥í•´ë³´ì„¸ìš”.</p>
                </div>


            </div>

            <!-- Settings View -->
            <div id="view-settings" class="view-section hidden">
                                        </button>
                                    </div>
                                </div>
                                <div class="mt-4 p-4 bg-gray-50 dark:bg-dark-element rounded-xl border border-gray-100 dark:border-dark-border">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center gap-2">
                                            <div id="api-status-indicator" class="w-2 h-2 rounded-full bg-gray-300"></div>
                                            <span id="api-status-text" class="text-[10px] text-gray-500 font-medium uppercase tracking-wider">ìƒíƒœ ë¯¸í™•ì¸</span>
                                        </div>
                                        <button id="validate-api-key-btn" class="text-xs font-bold text-brand hover:text-brand-dark transition-colors flex items-center gap-1">
                                            <i data-lucide="shield-check" class="w-3 h-3"></i>
                                            í‚¤ ìœ íš¨ì„± ê²€ì‚¬
                                        </button>
                                    </div>
                                    <p id="api-validation-msg" class="text-[10px] text-gray-400 mt-2 hidden">API í‚¤ë¥¼ í™•ì¸ ì¤‘ì…ë‹ˆë‹¤...</p>
                                </div>
                            </div>

                            <!-- OpenAI Settings -->
                            <div id="openai-settings" class="provider-settings space-y-4 hidden">
                                <div class="flex items-center justify-between mb-2">
                                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">
                                        OpenAI API Key
                                    </label>
                                    <div class="group relative">
                                        <i data-lucide="help-circle" class="w-3.5 h-3.5 text-gray-400 cursor-help"></i>
                                        <div class="absolute bottom-full right-0 mb-2 w-48 p-2 bg-gray-900 text-white text-[10px] rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 shadow-xl">
                                            ë³´ì•ˆ íŒ: í‚¤ë¥¼ ë¸Œë¼ìš°ì € ì™¸ë¶€ì— ë³µì‚¬í•˜ê±°ë‚˜ íƒ€ì¸ê³¼ ê³µìœ í•˜ì§€ ë§ˆì„¸ìš”.
                                        </div>
                                    </div>
                                </div>
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <i data-lucide="key" class="w-4 h-4 text-gray-400"></i>
                                    </div>
                                    <input type="password" id="openai-api-key" class="w-full pl-10 pr-32 py-3 bg-gray-50 dark:bg-dark-element border border-gray-200 dark:border-dark-border rounded-xl focus:ring-2 focus:ring-brand focus:border-transparent outline-none transition-all placeholder-gray-400 dark:placeholder-gray-600 text-sm" placeholder="sk-...">
                                    <div class="absolute inset-y-0 right-2 flex items-center gap-1">
                                        <button id="delete-openai-key-btn" class="text-gray-400 hover:text-red-500 text-[10px] font-medium px-2 py-1.5 rounded-lg transition-colors">
                                            ì‚­ì œ
                                        </button>
                                        <button id="save-openai-key-btn" class="bg-brand hover:bg-brand-dark text-white text-xs font-medium px-3 py-1.5 rounded-lg transition-colors">
                                            ì €ì¥
                                        </button>
                                    </div>
                                </div>
                                <p class="text-[10px] text-red-500/80 font-medium">
                                    âš ï¸ ì ˆëŒ€ ê³µìœ í•˜ì§€ ë§ˆì„¸ìš”. ì´ í‚¤ëŠ” ë‹¹ì‹ ì˜ OpenAI ê³„ì • ë¹„ìš©ì— ì§ì ‘ ì—°ê²°ë©ë‹ˆë‹¤.
                                </p>
                                <div class="mt-4 p-4 bg-gray-50 dark:bg-dark-element rounded-xl border border-gray-100 dark:border-dark-border">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center gap-2">
                                            <div id="openai-status-indicator" class="w-2 h-2 rounded-full bg-gray-300"></div>
                                            <span id="openai-status-text" class="text-[10px] text-gray-500 font-medium uppercase tracking-wider">ìƒíƒœ ë¯¸í™•ì¸</span>
                                        </div>
                                        <button id="validate-openai-key-btn" class="text-xs font-bold text-brand hover:text-brand-dark transition-colors flex items-center gap-1">
                                            <i data-lucide="shield-check" class="w-3 h-3"></i>
                                            í‚¤ ìœ íš¨ì„± ê²€ì‚¬
                                        </button>
                                    </div>
                                    <div id="openai-error-container" class="mt-3 hidden">
                                        <p id="openai-error-msg" class="text-[10px] text-red-500 mb-1"></p>
                                        <a id="openai-dashboard-link" href="#" target="_blank" class="text-[10px] text-brand hover:underline font-bold flex items-center gap-1">
                                            OpenAI ëŒ€ì‹œë³´ë“œì—ì„œ í•´ê²°í•˜ê¸° <i data-lucide="external-link" class="w-3 h-3"></i>
                                        </a>
                                    </div>
                                    <p id="openai-validation-msg" class="text-[10px] text-gray-400 mt-2 hidden">API í‚¤ë¥¼ í™•ì¸ ì¤‘ì…ë‹ˆë‹¤...</p>
                                </div>
                            </div>

                            <p class="text-xs text-gray-500 dark:text-gray-400 mt-4">
                                * í‚¤ëŠ” ë¸Œë¼ìš°ì € ë‚´ë¶€(Local Storage)ì—ë§Œ ì•ˆì „í•˜ê²Œ ì €ì¥ë©ë‹ˆë‹¤.<br>
                                * Gemini í‚¤ë¥¼ ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ ì œê³µ í‚¤ê°€ ì‚¬ìš©ë©ë‹ˆë‹¤.
                            </p>
                        </div>

                        <!-- Reset Data Section -->
                        <div class="space-y-4 pt-4">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-100 dark:border-gray-800 pb-2">
                                ë°ì´í„° ê´€ë¦¬
                            </h3>
                            <button id="clear-history-btn" class="w-full flex items-center justify-center gap-2 px-4 py-3 border border-red-200 text-red-500 hover:bg-red-50 hover:text-red-700 dark:border-red-900/30 dark:hover:bg-red-900/10 rounded-xl transition-colors font-medium">
                                <i data-lucide="trash-2" class="w-5 h-5"></i>
                                <span>ëª¨ë“  ìƒì„± ê¸°ë¡ ì‚­ì œ</span>
                            </button>

                            <button id="reset-onboarding-btn" class="w-full flex items-center justify-center gap-2 px-4 py-3 border border-brand text-brand hover:bg-brand hover:text-white rounded-xl transition-colors font-medium">
                                <i data-lucide="help-circle" class="w-5 h-5"></i>
                                <span>íŠœí† ë¦¬ì–¼ ë‹¤ì‹œ ë³´ê¸° (ì˜¨ë³´ë”© ë¦¬ì…‹)</span>
                            </button>
                        </div>

                    </div>
                </div>
            </div>

            <!-- Brand Editor Modal (Inline) -->
            <div id="brand-editor-modal" class="fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm hidden">
                <div class="bg-white dark:bg-dark-card w-full max-w-lg rounded-2xl shadow-2xl p-6 m-4 relative animate-fade-in max-h-[90vh] overflow-y-auto">
                    <h3 id="brand-editor-title" class="text-xl font-bold text-gray-900 dark:text-white mb-4">ìƒˆ ë¸Œëœë“œ ì¶”ê°€</h3>
                    
                    <div class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ë¸Œëœë“œ ì´ë¦„</label>
                                <input type="text" id="brand-name" placeholder="ì˜ˆ: RepurposeAI" class="w-full p-2.5 rounded-lg border border-gray-200 dark:border-dark-border bg-white dark:bg-dark-bg focus:ring-2 focus:ring-brand outline-none transition-all text-gray-900 dark:text-white">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">í†¤ì•¤ë§¤ë„ˆ (Tone)</label>
                                <input type="text" id="brand-tone" placeholder="ì˜ˆ: ì „ë¬¸ì ì¸, ì¹œê·¼í•œ" class="w-full p-2.5 rounded-lg border border-gray-200 dark:border-dark-border bg-white dark:bg-dark-bg focus:ring-2 focus:ring-brand outline-none transition-all text-gray-900 dark:text-white">
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ìŠ¤íƒ€ì¼ ê°€ì´ë“œ (Style)</label>
                            <textarea id="brand-style" rows="2" placeholder="ì˜ˆ: ì´ëª¨ì§€ ì‚¬ìš© ìì œ, ë‘ê´„ì‹ ì‘ì„±" class="w-full p-2.5 rounded-lg border border-gray-200 dark:border-dark-border bg-white dark:bg-dark-bg focus:ring-2 focus:ring-brand outline-none transition-all resize-none text-gray-900 dark:text-white"></textarea>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ì„ í˜¸ í‚¤ì›Œë“œ (Preferred Keywords)</label>
                            <input type="text" id="brand-keywords" placeholder="ì˜ˆ: #AIí˜ì‹ , ë””ì§€í„¸ ë§ˆì¼€íŒ… (ì‰¼í‘œ êµ¬ë¶„)" class="w-full p-2.5 rounded-lg border border-gray-200 dark:border-dark-border bg-white dark:bg-dark-bg focus:ring-2 focus:ring-brand outline-none transition-all text-gray-900 dark:text-white">
                        </div>

                        <div>
                             <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ê¸ˆì§€ì–´ (Forbidden Words)</label>
                             <input type="text" id="brand-forbidden" placeholder="ì˜ˆ: í—, ëŒ€ë°• (ì‰¼í‘œë¡œ êµ¬ë¶„)" class="w-full p-2.5 rounded-lg border border-gray-200 dark:border-dark-border bg-white dark:bg-dark-bg focus:ring-2 focus:ring-brand outline-none transition-all text-gray-900 dark:text-white">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ì˜ˆì‹œ ë¬¸ì¥ (Example Sentences - AI í•™ìŠµìš©)</label>
                            <textarea id="brand-examples" rows="3" placeholder="ë¸Œëœë“œì˜ í‰ì†Œ ë§íˆ¬ê°€ ì˜ ë“œëŸ¬ë‚˜ëŠ” ë¬¸ì¥ 2-3ê°œë¥¼ ì…ë ¥í•˜ì„¸ìš”." class="w-full p-2.5 rounded-lg border border-gray-200 dark:border-dark-border bg-white dark:bg-dark-bg focus:ring-2 focus:ring-brand outline-none transition-all resize-none text-gray-900 dark:text-white"></textarea>
                        </div>

                        <!-- Brand Test Section -->
                        <div class="pt-4 border-t border-gray-100 dark:border-dark-border">
                            <button onclick="testBrandVoice()" id="test-brand-btn" class="w-full py-2 bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 rounded-lg text-sm font-medium hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center justify-center gap-2 mb-3">
                                <i data-lucide="play-circle" class="w-4 h-4 text-brand"></i>
                                ë¸Œëœë“œ ì»¤ìŠ¤í…€ í…ŒìŠ¤íŠ¸ ìƒì„±í•˜ê¸°
                            </button>
                            <div id="brand-test-result" class="hidden bg-blue-50/30 dark:bg-blue-900/10 border border-blue-100/50 dark:border-blue-800/50 rounded-xl p-4">
                                <p class="text-[10px] uppercase tracking-wider font-bold text-brand mb-2">Test Result Preview</p>
                                <div id="brand-test-content" class="text-xs text-gray-700 dark:text-gray-300 leading-relaxed max-h-40 overflow-y-auto"></div>
                            </div>
                        </div>
                    </div>

                    <div class="flex gap-3 mt-6">
                        <button id="cancel-brand-btn" class="flex-1 py-2.5 rounded-xl border border-gray-200 dark:border-dark-border text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 font-medium transition-colors">
                            ì·¨ì†Œ
                        </button>
                        <button id="save-brand-btn" class="flex-1 py-2.5 rounded-xl bg-brand text-white hover:bg-brand-dark font-medium shadow-lg shadow-brand/20 transition-all active:scale-95">
                            ì €ì¥í•˜ê¸°
                        </button>
                    </div>
                </div>
            </div>

            <!-- Onboarding Modal -->
            <div id="onboarding-modal" class="fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm hidden opacity-0 transition-opacity duration-300">
                <div class="bg-white dark:bg-dark-card border border-brand/10 p-0 rounded-3xl shadow-2xl max-w-lg w-[95%] relative transform scale-95 transition-all duration-300 overflow-hidden" id="onboarding-content">
                    
                    <!-- Decorative Header -->
                    <div class="bg-gradient-to-br from-brand/5 to-purple-500/5 dark:from-brand/20 dark:to-purple-900/20 p-8 pb-6 border-b border-gray-100 dark:border-dark-border/50">
                         <div class="w-14 h-14 bg-white dark:bg-dark-bg rounded-2xl flex items-center justify-center mb-4 shadow-sm border border-brand/10 mx-auto">
                            <i data-lucide="sparkles" class="w-7 h-7 text-brand fill-brand/10"></i>
                        </div>
                        <h2 class="text-2xl font-bold text-gray-900 dark:text-white text-center mb-2">RepurposeAI ì‹œì‘í•˜ê¸°</h2>
                        <p class="text-gray-500 dark:text-gray-400 text-sm text-center leading-relaxed">
                            ì½˜í…ì¸  ì¬ê°€ê³µì„ ìœ„í•œ ê°€ì¥ ìŠ¤ë§ˆíŠ¸í•œ ë°©ë²•.<br>
                            ë‹¨ ì„¸ ë‹¨ê³„ë§Œìœ¼ë¡œ ì „ë¬¸ê°€ ìˆ˜ì¤€ì˜ ì†Œì…œ ì½˜í…ì¸ ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”.
                        </p>
                    </div>

                    <div class="p-8 pt-6">
                        <!-- Steps Container -->
                        <div class="space-y-0 mb-8 relative">
                            <!-- Vertical Line -->
                            <div class="absolute left-4 top-4 bottom-4 w-0.5 bg-gray-100 dark:bg-gray-800 -z-10"></div>

                            <!-- Step 1 -->
                            <div class="flex gap-5 relative group">
                                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-brand text-white flex items-center justify-center font-bold text-sm shadow-lg shadow-brand/30 ring-4 ring-white dark:ring-dark-card z-10">1</div>
                                <div class="pb-8">
                                    <h3 class="font-bold text-gray-900 dark:text-white text-base mb-1 group-hover:text-brand transition-colors">ì›ë³¸ í…ìŠ¤íŠ¸ ì…ë ¥</h3>
                                    <p class="text-sm text-gray-500 dark:text-gray-400 leading-relaxed">
                                        ë¸”ë¡œê·¸, ë‰´ìŠ¤ë ˆí„°, ëŒ€ë³¸ ë“± ë³€í™˜í•˜ê³  ì‹¶ì€<br>
                                        ê¸´ ê¸€ì„ ì…ë ¥ì°½ì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”.
                                    </p>
                                </div>
                            </div>

                            <!-- Step 2 -->
                            <div class="flex gap-5 relative group">
                                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-white dark:bg-dark-bg border-2 border-brand text-brand flex items-center justify-center font-bold text-sm shadow-sm ring-4 ring-white dark:ring-dark-card z-10">2</div>
                                <div class="pb-8">
                                    <h3 class="font-bold text-gray-900 dark:text-white text-base mb-1 group-hover:text-brand transition-colors">í”Œë«í¼ ì„ íƒ</h3>
                                    <p class="text-sm text-gray-500 dark:text-gray-400 leading-relaxed">
                                        íŠ¸ìœ„í„° ì“°ë ˆë“œ, ë§í¬ë“œì¸, ì¸ìŠ¤íƒ€ ìº¡ì…˜ ë“±<br>
                                        ì›í•˜ëŠ” íƒ€ê²Ÿ í¬ë§·ì„ ì„ íƒí•©ë‹ˆë‹¤.
                                    </p>
                                </div>
                            </div>

                            <!-- Step 3 -->
                            <div class="flex gap-5 relative group">
                                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-white dark:bg-dark-bg border-2 border-gray-200 dark:border-gray-700 text-gray-400 flex items-center justify-center font-bold text-sm shadow-sm ring-4 ring-white dark:ring-dark-card z-10">3</div>
                                <div>
                                    <h3 class="font-bold text-gray-900 dark:text-white text-base mb-1 group-hover:text-brand transition-colors">AI ìƒì„± & í™œìš©</h3>
                                    <p class="text-sm text-gray-500 dark:text-gray-400 leading-relaxed">
                                        ìµœì í™”ëœ ì½˜í…ì¸ ê°€ ìƒì„±ë˜ë©´ ë³µì‚¬í•˜ê±°ë‚˜<br>
                                        ë‹¤ë¥¸ ì–¸ì–´ë¡œ ë²ˆì—­í•˜ì—¬ ì‚¬ìš©í•˜ì„¸ìš”!
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="mb-6 px-4 py-3 bg-indigo-50/50 dark:bg-indigo-900/10 border border-indigo-100 dark:border-indigo-800/30 rounded-xl flex items-start gap-3">
                            <i data-lucide="key" class="w-4 h-4 text-indigo-500 mt-0.5"></i>
                            <div class="flex-grow">
                                <p class="text-[11px] font-bold text-indigo-700 dark:text-indigo-300">ğŸ’¡ ì „ë¬¸ê°€ íŒ: ë‚˜ë§Œì˜ API í‚¤ ì‚¬ìš©í•˜ê¸°</p>
                                <p class="text-[10px] text-indigo-600/70 dark:text-indigo-400/70 mt-0.5 leading-relaxed">
                                    ì„¤ì •ì—ì„œ ê°œì¸ API í‚¤ë¥¼ ë“±ë¡í•˜ë©´ ë” ë¹ ë¥´ê³  ì•ˆì •ì ì¸ ìƒì„±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                                </p>
                            </div>
                        </div>

                        <button id="close-onboarding" class="w-full bg-brand hover:bg-brand-dark text-white font-bold py-4 rounded-xl shadow-lg shadow-brand/20 transition-all transform active:scale-[0.98] flex items-center justify-center gap-2 group">
                            <span>ì‹œì‘í•˜ê¸°</span>
                            <i data-lucide="arrow-right" class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
                        </button>
                    </div>
                </div>
            </div>

        </main>


    </div>

    <!-- Toast Logic (Simple) -->
    <div id="toast" class="fixed bottom-6 left-1/2 -translate-x-1/2 bg-gray-900 text-white px-4 py-2 rounded-lg shadow-lg text-sm font-medium opacity-0 transition-opacity duration-300 pointer-events-none z-50">
        Copied to clipboard!
    </div>

    <!-- Scripts -->
    <script src="js/components.js"></script>
    <script src="js/theme.js"></script>
    <script src="js/brand.js"></script>
    <script src="js/ai.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/app.js"></script>
    <script>
        lucide.createIcons();
    </script>
    <!-- Result Editor Widget Modal -->
    <div id="result-widget" class="fixed inset-0 z-50 hidden overflow-hidden">
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity" id="widget-backdrop"></div>
        
        <!-- Modal Content -->
        <div class="absolute inset-y-0 right-0 w-full max-w-6xl bg-white dark:bg-dark-bg shadow-2xl transition-transform transform translate-x-full duration-300 ease-out" id="widget-container">
            <div class="h-full flex flex-col">
                <!-- Header -->
                <div class="px-6 py-4 border-b border-gray-100 dark:border-dark-border flex items-center justify-between bg-white dark:bg-dark-card">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-brand/10 rounded-xl flex items-center justify-center">
                            <i data-lucide="sparkles" class="w-5 h-5 text-brand"></i>
                        </div>
                        <div>
                            <h2 class="text-lg font-bold text-gray-900 dark:text-white" id="widget-title">AI Content Editor</h2>
                            <p class="text-xs text-gray-500" id="widget-subtitle">ë‹¤ì–‘í•œ í”Œë«í¼ì— ë§ì¶° ì½˜í…ì¸ ë¥¼ ë‹¤ë“¬ì–´ë³´ì„¸ìš”.</p>
                        </div>
                    </div>
                    <button id="close-widget-btn" class="p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors text-gray-500">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>

                <!-- Main Grid (Unified scroll on mobile, independent on desktop) -->
                <div class="flex-grow overflow-y-auto md:overflow-hidden flex flex-col md:flex-row">
                    <!-- Left Sidebar: Analytics -->
                    <div class="w-full md:w-80 border-r border-gray-100 dark:border-dark-border bg-gray-50/50 dark:bg-dark-card/50 md:overflow-y-auto p-6 space-y-8 widget-sidebar">
                        <!-- Sidebar Header with Badge -->
                        <div class="flex items-center justify-between mb-2">
                            <div class="flex items-center gap-2">
                                <i data-lucide="bar-chart-2" class="w-4 h-4 text-brand"></i>
                                <span class="text-xs font-bold text-gray-900 dark:text-white">AI ì½˜í…ì¸  ë¶„ì„</span>
                            </div>
                            <span class="px-2 py-0.5 bg-brand/10 text-brand text-[10px] font-black rounded-md tracking-wider">BETA</span>
                        </div>

                        <!-- Viral Score Redesign (Horizontal Stack) -->
                        <div class="bg-white dark:bg-dark-card p-5 rounded-2xl border border-gray-100 dark:border-dark-border shadow-sm">
                            <div class="flex items-center gap-5 mb-4">
                                <div class="relative w-16 h-16 flex-shrink-0">
                                    <svg class="w-full h-full transform -rotate-90">
                                        <circle cx="32" cy="32" r="28" stroke="currentColor" stroke-width="5" fill="transparent" class="text-gray-100 dark:text-gray-800"></circle>
                                        <circle cx="32" cy="32" r="28" stroke="currentColor" stroke-width="5" fill="transparent" stroke-dasharray="175.9" stroke-dashoffset="175.9" class="text-brand transition-all duration-1000 ease-out" id="widget-score-circle"></circle>
                                    </svg>
                                    <div class="absolute inset-0 flex items-center justify-center">
                                        <span class="text-xl font-black text-gray-900 dark:text-white" id="widget-score-value">0</span>
                                    </div>
                                </div>
                                <div>
                                    <p class="text-[10px] font-bold text-gray-400 tracking-wider mb-0.5">Viral Score</p>
                                    <p class="text-sm font-black text-brand transition-all" id="widget-score-text">ë¶„ì„ ì¤‘...</p>
                                </div>
                            </div>
                            <div class="pt-4 border-t border-gray-50 dark:border-gray-800">
                                <p class="text-[12px] text-gray-500 dark:text-gray-400 leading-relaxed mb-3" id="widget-score-reason">ì½˜í…ì¸  ë¶„ì„ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤.</p>
                                <div id="widget-pillars" class="flex flex-wrap gap-2">
                                    <!-- Pillars injected here -->
                                </div>
                            </div>
                        </div>

                        <!-- SEO Title Redesign -->
                        <div class="space-y-2.5">
                            <h3 class="text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1">RECOMMENDED TITLE</h3>
                            <div class="p-4 bg-white dark:bg-dark-card rounded-xl border border-gray-100 dark:border-dark-border text-sm font-bold text-gray-800 dark:text-gray-100 leading-snug shadow-sm" id="widget-seo-title">
                                -
                            </div>
                        </div>

                        <!-- Keywords Redesign -->
                        <div class="space-y-2.5">
                            <div class="flex items-center justify-between pl-1">
                                <h3 class="text-[10px] font-black text-gray-400 uppercase tracking-widest">RECOMMENDED TAGS</h3>
                                <button id="widget-copy-keywords" class="text-[10px] font-bold text-brand hover:text-brand-dark flex items-center gap-1.5 transition-colors">
                                    <i data-lucide="copy" class="w-3 h-3"></i> Copy All
                                </button>
                            </div>
                            <div id="widget-keywords" class="flex flex-wrap gap-2">
                                <!-- Keywords injected here -->
                            </div>
                        </div>
                    </div>

                    <!-- Right Column: Editor -->
                    <div class="flex-grow flex flex-col bg-white dark:bg-dark-bg md:overflow-hidden">
                        <!-- Platform Tabs Bar -->
                        <div id="widget-tabs-container" class="px-6 py-4 border-b border-gray-100 dark:border-dark-border bg-gray-50/20 dark:bg-dark-card/20 overflow-x-auto overflow-y-hidden min-h-[72px] flex items-center">
                            <div class="flex gap-3" id="widget-tabs">
                                <!-- Tabs injected here -->
                            </div>
                        </div>

                        <!-- Editor Area -->
                        <div class="flex-grow md:overflow-y-auto p-6">
                            <div class="max-w-3xl mx-auto space-y-6">
                                <div class="flex items-center justify-between">
                                    <h3 class="text-sm font-bold text-gray-900 dark:text-white flex items-center gap-2">
                                        <i data-lucide="file-text" class="w-4 h-4 text-brand"></i>
                                        Generated Content
                                    </h3>
                                    <div class="flex items-center gap-2">
                                        <button id="widget-copy-content" class="px-3 py-1.5 bg-brand text-white text-xs font-bold rounded-lg hover:bg-brand-dark transition-all flex items-center gap-2">
                                            <i data-lucide="copy" class="w-3.5 h-3.5"></i> Copy Content
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="relative group">
                                    <div class="prose prose-sm dark:prose-invert max-w-none p-6 rounded-2xl bg-gray-50 dark:bg-dark-card border border-gray-100 dark:border-dark-border min-h-[400px] focus-within:ring-2 ring-brand/20 transition-all outline-none" id="widget-editor" contenteditable="true">
                                        <!-- Content injected here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Footer -->
                <div class="px-6 py-4 border-t border-gray-100 dark:border-dark-border bg-gray-50/50 dark:bg-dark-card flex items-center justify-between">
                    <p class="text-xs text-gray-400">Content generated by RepurposeAI. Always review before posting.</p>
                    <div class="flex gap-3">
                        <button id="widget-save-btn" class="px-5 py-2 text-sm font-bold text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-all">
                            Save Changes
                        </button>
                        <button id="widget-share-btn" class="px-5 py-2 bg-brand text-white text-sm font-bold rounded-xl hover:bg-brand-dark shadow-lg shadow-brand/20 transition-all flex items-center gap-2">
                             <i data-lucide="share-2" class="w-4 h-4"></i>
                             Post to Social
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Pillar Detail Modal -->
    <div id="pillar-detail-modal" class="fixed inset-0 z-[60] hidden flex items-center justify-center p-4 sm:p-6">
        <div id="pillar-detail-backdrop" class="absolute inset-0 bg-black/60 backdrop-blur-sm opacity-0 transition-opacity duration-300"></div>
        <div id="pillar-detail-container" class="relative w-full max-w-lg bg-white dark:bg-dark-card rounded-3xl shadow-2xl overflow-hidden transform scale-95 opacity-0 transition-all duration-300">
            <!-- Header -->
            <div class="px-6 py-5 border-b border-gray-100 dark:border-dark-border flex items-center justify-between" id="pillar-modal-header">
                <div class="flex items-center gap-3">
                    <div id="pillar-modal-icon" class="p-2.5 rounded-2xl bg-brand/10 text-brand">
                        <i data-lucide="zap"></i>
                    </div>
                    <div>
                        <h3 id="pillar-modal-title" class="text-lg font-black text-gray-900 dark:text-white">Pillar Analysis</h3>
                        <p id="pillar-modal-score" class="text-xs font-bold text-gray-400">Score: 0/40</p>
                    </div>
                </div>
                <button id="close-pillar-modal" class="p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
            <!-- Body -->
            <div class="p-6">
                <div class="p-5 bg-gray-50 dark:bg-dark-bg rounded-2xl border border-gray-100 dark:border-dark-border">
                    <p id="pillar-modal-comment" class="text-sm text-gray-600 dark:text-gray-300 leading-relaxed font-medium">
                        ë¶„ì„ ì½”ë©˜íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤.
                    </p>
                </div>
            </div>
            <!-- Footer -->
            <div class="px-6 py-5 bg-gray-50/50 dark:bg-dark-card/50 border-t border-gray-100 dark:border-dark-border flex justify-end">
                <button id="pillar-modal-close-btn" class="px-6 py-2.5 bg-brand text-white text-sm font-bold rounded-xl hover:bg-brand-dark transition-all shadow-lg shadow-brand/20">
                    í™•ì¸
                </button>
            </div>
        </div>
    </div>

    <!-- Global App Modal -->
    <div id="app-modal" class="fixed inset-0 z-[150] flex items-center justify-center bg-black/60 backdrop-blur-sm hidden opacity-0 transition-opacity duration-300">
        <div class="bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border p-6 rounded-2xl shadow-2xl max-w-sm w-[90%] transform scale-95 transition-all duration-300" id="app-modal-content">
            <div class="flex items-start gap-4">
                <div id="modal-icon-container" class="w-12 h-12 rounded-2xl flex items-center justify-center flex-shrink-0 bg-brand/10 text-brand">
                    <i data-lucide="alert-circle" id="modal-icon" class="w-6 h-6"></i>
                </div>
                <div class="flex-grow">
                    <h3 id="modal-title" class="text-lg font-bold text-gray-900 dark:text-white mb-1">ì•ˆë‚´</h3>
                    <p id="modal-message" class="text-sm text-gray-600 dark:text-gray-400 leading-relaxed"></p>
                </div>
            </div>
            <div id="modal-footer" class="flex gap-3 justify-end mt-8">
                <button id="modal-cancel-btn" class="flex-1 sm:flex-none px-6 py-2.5 rounded-xl border border-gray-200 dark:border-dark-border text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 text-sm font-medium transition-colors hidden">
                    ì·¨ì†Œ
                </button>
                <button id="modal-confirm-btn" class="flex-1 sm:flex-none px-6 py-2.5 rounded-xl bg-brand text-white hover:bg-brand-dark text-sm font-medium shadow-lg shadow-brand/20 transition-all active:scale-95">
                    í™•ì¸
                </button>
            </div>
        </div>
    </div>

</body>
</html>
